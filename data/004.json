{
    "id": "004",
    "title": "Change background using Javascript - AJAX - jQuery",
    "body": "<p>I have a table as below;</p>\n\n<pre><code>&lt;table style=\"width: 100%; border: solid 1px #666600; min-width: 800px\" cellpadding=\"0\" cellspacing=\"0\"&gt;\n&lt;tr&gt;\n&lt;td id=\"aaa\"&gt;&amp;nbsp;&lt;/td&gt;\n&lt;td class=\"content\" &gt;&amp;nbsp;&lt;/td&gt;\n&lt;td class=\"content\" &gt;&amp;nbsp;&lt;/td&gt;\n&lt;td class=\"content\" &gt;&amp;nbsp;&lt;/td&gt;\n&lt;td class=\"content\" &gt;&amp;nbsp;&lt;/td&gt;\n&lt;td class=\"content\" &gt;&amp;nbsp;&lt;/td&gt;\n&lt;td class=\"content\" &gt;&amp;nbsp;&lt;/td&gt;\n&lt;td id=\"bbb\"&gt;&amp;nbsp;&lt;/td&gt;\n&lt;/tr&gt;\n&lt;tr&gt;\n&lt;td&gt;&amp;nbsp;&lt;/td&gt;\n&lt;td class=\"title\" &gt;&amp;nbsp;&lt;/td&gt;\n&lt;td class=\"title\" &gt;&amp;nbsp;&lt;/td&gt;\n&lt;td class=\"title\" &gt;&amp;nbsp;&lt;/td&gt;\n&lt;td class=\"title\" &gt;&amp;nbsp;&lt;/td&gt;\n&lt;td class=\"title\" &gt;&amp;nbsp;&lt;/td&gt;\n&lt;td class=\"title\" &gt;&amp;nbsp;&lt;/td&gt;\n&lt;td&gt;&amp;nbsp;&lt;/td&gt;\n&lt;/tr&gt;\n&lt;/table&gt;\n</code></pre>\n\n<p>I am using jquery ajax and i have script as below;</p>\n\n<pre><code>$(document).ready( function() {\nvar i = 1;\n$.ajax({\n  type: 'POST',\n  url: 'ajax.php',\n  data: 'id=' + i,\n  dataType: 'json',\n  cache: false,\n  success: function(result) {\n    $('.title').each(function(index){\n      values = result[index].split('*');\n      indexa = values[0];\n      indexb = values[1];\n      if((result[index])){\n        $(this).html(indexb);\n      }else{\n        $(this).html(\"&amp;nbsp;\");\n      }\n    });\n  },\n  });\n});\n</code></pre>\n\n<p>The php file will return <code>[\"data1*abc\",\"data2*abc\",\"data3*abc\",\"data4*abc\",\"data5*abc\",\"data6*abc\"]</code> for i=1, <code>[\"data7*abc\",\"data8*abc\",\"data9*abc\",\"data10*abc\",\"data11*abc\",\"data12*abc\"]</code> for i=2 etc etc.. The text in <code>class=\"title\"</code> changes accordingly with respect to the data, as <code>abc</code> or whatever it is..</p>\n\n<p>You can see another cell above every title cell having <code>class=\"content\"</code>. I have a php file, <code>ajax2.php</code>, which will return an image name with respect to a <code>$_POST[\"data1\"]</code> and <code>$_POST[\"data2\"]</code>. The <code>$_POST[\"data1\"]</code> portion should have value <code>indexa</code> and <code>$_POST[\"data2\"]</code> portion should have value <code>indexb</code> from javascript for each ajax request. The images are placed in images folder and the data returned by php file will be only <code>image_name.extension</code>.</p>\n\n<p>In short, I want to change the background image of content cell above title cell to change when data / text in corresponding title cell changes. Anybody tell me how to do the AJAX request and change background image (change background image url).</p>\n\n<p>I think it will be something like;</p>\n\n<p><code>$(.content).css({ 'background-image':'url(images/' + imagename });</code></p>\n\n<p>You can see my fiddle <a href=\"http://jsfiddle.net/blasteralfred/BFht7/\" rel=\"nofollow\"><strong>here</strong></a></p>\n\n<p>Thanks in advance..</p>\n"
}